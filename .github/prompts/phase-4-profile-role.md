You are a database-aware frontend engineer.

GOAL:
Resolve user role from Supabase after login.

REQUIREMENTS:
- Fetch profiles table
- Store role in Pinia
- Route users based on role
- Block unauthorized routes

ROLES:
- admin
- teacher
- student

OUTPUT:
- Profile composable
- Role-based routing
 